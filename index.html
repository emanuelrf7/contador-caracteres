<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversor de Temperatura</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main>
        <section class="main-content">
            <div class="content-1">
                <h1>Contador de Caracteres</h1>
                <label for="itexto">Digite a frase/texto:</label>
                <textarea name="texto" id="itexto" wrap="hard" placeholder="Insira aqui seu texto"></textarea>
                <input type="button" value="Contar" onclick="contar()">
                <input type="button" value="Limpar" onclick="limpar()">
                <div id="resultado"></div>
            </div>
        </section>
    </main>

    <footer>
        <p>® DESENVOLVIDO POR <strong><a href="https://emanuelrf7.github.io/portfolio/" rel="external" target="_blank">EMANUEL ROSA FRANCO</a></p>
    </footer>
    <script>
        function contar() {
            let captura = document.querySelector('textarea#itexto')
            let texto = captura.value
            let regex = /\s+/g // \s+ -> Esta parte da expressão regular corresponde a um ou mais espaços em branco. || g -> A flag g indica que a expressão regular deve ser aplicada a todas as ocorrências de espaços em branco na string.
            let novoTexto = texto.replace(regex, '')
            let novoElemento = document.createElement('p')
            function contarEspacos(str) {
                let regex = /\s+/g
                let capturarEspacos = str.match(regex)
                if (capturarEspacos == null) {
                    let elemento = document.querySelector('div#resultado')
                    novoElemento.innerText = 'Digite um texto para fazer a contagem!'
                    elemento.appendChild(novoElemento)
                }
                return capturarEspacos.length 
            }
            novoElemento.innerText = `O texto/frase que você inseriu possui ${novoTexto.length} caracteres e ${contarEspacos(texto.trim())} espaços!`
            
            let elemento = document.querySelector('div#resultado')
            elemento.appendChild(novoElemento)
        }

        function limpar() {
            document.getElementById('itexto').value = ''
            document.getElementById('resultado').innerHTML = ''            
        }
    </script>
</body>
</html>